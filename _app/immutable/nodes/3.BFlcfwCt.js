var Mt=Object.defineProperty;var pt=i=>{throw TypeError(i)};var Rt=(i,s,t)=>s in i?Mt(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var H=(i,s,t)=>Rt(i,typeof s!="symbol"?s+"":s,t),jt=(i,s,t)=>s.has(i)||pt("Cannot "+t);var a=(i,s,t)=>(jt(i,s,"read from private field"),t?t.call(i):s.get(i)),x=(i,s,t)=>s.has(i)?pt("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,t),T=(i,s,t,e)=>(jt(i,s,"write to private field"),e?e.call(i,t):s.set(i,t),t);import{t as p,b as d,c as kt,d as Ot,e as Ct}from"../chunks/DPI9c3w9.js";import{h as wt,a0 as St,a1 as yt,a3 as g,a4 as c,a6 as l,n as _,a8 as E,a7 as et,a2 as zt,o as dt,a5 as Pt}from"../chunks/gBt90wYd.js";import{s as V}from"../chunks/CNCZbiop.js";import{i as I}from"../chunks/ClflrIIK.js";import{e as it,i as rt,s as Y}from"../chunks/B02JU1mm.js";const xt=[...` 	
\r\fÂ \v\uFEFF`];function Lt(i,s,t){var e=""+i;if(t){for(var r in t)if(t[r])e=e?e+" "+r:r;else if(e.length)for(var o=r.length,n=0;(n=e.indexOf(r,n))>=0;){var v=n+o;(n===0||xt.includes(e[n-1]))&&(v===e.length||xt.includes(e[v]))?e=(n===0?"":e.substring(0,n))+e.substring(v+1):n=v}}return e===""?null:e}function Nt(i,s,t,e,r,o){var n=i.__className;if(wt||n!==t||n===void 0){var v=Lt(t,e,o);(!wt||v!==i.getAttribute("class"))&&(v==null?i.removeAttribute("class"):i.className=v),i.__className=t}else if(o&&r!==o)for(var w in o){var S=!!o[w];(r==null||S!==!!r[w])&&i.classList.toggle(w,S)}return o}const Et=["hasSource","hasTarget","hasPart"];var ht,vt,mt;const st=class st{constructor({iri:s,shortIri:t,label:e,comment:r,isBlank:o}={}){x(this,vt);H(this,"_iri");H(this,"_shortIri");H(this,"_label",{});H(this,"_comment",{});H(this,"_isBlank");H(this,"_constrained",[]);x(this,mt,"");this._iri=s,this._shortIri=t,this._isBlank=o??!s,typeof e=="string"?this._label[""]=e:this._label=Object.fromEntries(Object.entries(e??{}).filter(([n,v])=>v)),typeof r=="string"?this._comment[""]=r:this._comment=Object.fromEntries(Object.entries(r??{}).filter(([n,v])=>v))}clone(){return new st({iri:this._iri,shortiri:this._shortIri,label:JSON.parse(JSON.stringify(this._label)),comment:JSON.parse(JSON.stringify(this._comment)),isblank:this._isBlank})}setVariable(s){T(this,vt,s)}getVariable(){return a(this,vt)}getIri(){return this._iri}getShortIri(){return this._shortIri}isBlank(){return this._isBlank}setLabel(s,t){this._label[s]=t}getLabel(){for(const e of a(st,ht))if(e in this._label)return this._label[e];let s=Object.values(this._label)[0];if(s)return s;const t=this._iri.split("/");return t.pop()||t.pop()||"[missing label]"}setComment(s,t){this._comment[s]=t}getComment(){for(const s of a(st,ht))if(s in this._comment)return this._comment[s];return Object.values(this._comment)[0]}setRole(s){T(this,mt,s)}getRole(){return a(this,mt)}};ht=new WeakMap,vt=new WeakMap,mt=new WeakMap,x(st,ht,["en",""]);let ct=st;var K,Q,W,gt,X,at;class $t extends ct{constructor(){super(...arguments);x(this,K);x(this,Q);x(this,W);x(this,gt);x(this,X,[]);x(this,at,[])}setProperty(t){if(!(t instanceof Vt))throw new Error("Can only assign instances of Property!");t.setVariable(this),t.setRole("Property"),T(this,K,t)}setObjectOfInterest(t){if(!(t instanceof B))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("OoI"),T(this,Q,t)}setMatrix(t){if(!(t instanceof B))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("Matrix"),T(this,W,t)}setStatisticalModifier(t){if(!(t instanceof B))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("StatisticalModifier"),T(this,gt,t)}addContextObject(t){if(!(t instanceof B))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("ContextObject"),a(this,X).push(t)}addConstraint(t,...e){if(!(t instanceof It))throw new Error("Can only assign instances of Constraint!");if(e.some(r=>r.getVariable()!=this))throw Error("Can only constrain entities of the same variable!");if(a(this,at).includes(t)){const r=t.getEntities();for(const o of e)r.includes(o)||(t.addEntity(o),o._addConstraint(t));return}for(const r of e)t.addEntity(r),r._addConstraint(t);t.setRole("Constraint"),a(this,at).push(t)}getProperty(){return a(this,K)}getObjectOfInterest(){return a(this,Q)}getMatrix(){return a(this,W)}getStatisticalModifier(){return a(this,gt)}getContextObjects(){return a(this,X).slice(0)}getConstraints(){return a(this,at).slice(0)}toString(){return`[Variable ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+`
  Property:
${a(this,K)?a(this,K).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  ObjectOfInterest:
${a(this,Q)?a(this,Q).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  Matrix:
${a(this,W)?a(this,W).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  ContextObject:
${a(this,X).length?a(this,X).map(t=>t.toString().split(`
`).map(e=>`    ${e}`).join(`
`)).join(`
`):"-"}
]`}}K=new WeakMap,Q=new WeakMap,W=new WeakMap,gt=new WeakMap,X=new WeakMap,at=new WeakMap;var ft;class It extends ct{constructor(){super(...arguments);x(this,ft,[])}addEntity(t){a(this,ft).push(t)}getEntities(){return a(this,ft).slice(0)}toString(){return`[Constraint ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+`
]`}}ft=new WeakMap;var z,y;const ut=class ut extends ct{constructor(){super(...arguments);x(this,z,[]);x(this,y,{})}setVariable(t){super.setVariable(t),Object.values(a(this,y)).forEach(e=>e.forEach(r=>r.setVariable(t)))}_addConstraint(t){a(this,z).push(t)}addConstraint(t){a(this,z).push(t)}getConstraints(){return Array.from(a(this,z))}addComponent(t,e){if(!Et.includes(t))throw new Error("Invalid property to connect a System to its components: "+t);t in a(this,y)||(a(this,y)[t]=[]),e.setVariable(this.getVariable()),e.setRole("SystemComponent"),a(this,y)[t].push(e)}getComponents(){return Object.entries(a(this,y)).reduce((t,e)=>(t[e[0]]=Array.from(e[1]),t),{})}getComponentCount(){return Object.entries(a(this,y)).reduce((t,e)=>t+e[1].length,0)}isSystem(){return Object.keys(a(this,y)).length>0}toString(){return`[Entity ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+(Object.values(a(this,z)).length?`
  constrained:
`+a(this,z).map(t=>t.toString().split(`
`).map(e=>`    ${e}`).join(`
`)).join(`
`):"-")+`
]`}clone(){const t=new ut({iri:this._iri,shortIri:this._shortIri,label:this._label,comment:this._comment,isBlank:this._isBlank});for(const e of a(this,z))t._addConstraint(e);for(const e in a(this,y))for(const r of a(this,y)[e])t.addComponent(e,r.clone());return t}};z=new WeakMap,y=new WeakMap;let B=ut;class Vt extends B{toString(){return`[Entity ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([s,t])=>`    ${s}: ${t}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([s,t])=>`    ${s}: ${t}`).join(`
`):"")+`
]`}}function Dt(i){const s=new $t({iri:i["@id"],label:i.label,comment:i.comment}),t={};let e=U(i.property,Vt,t);if(e&&s.setProperty(e),e=U(i.statisticalModifier,B,t),e&&s.setStatisticalModifier(e),e=U(i.ooi,B,t),e&&s.setObjectOfInterest(e),e=U(i.matrix,B,t),e&&s.setMatrix(e),i.context)for(const r of i.context)e=U(r,B,t),s.addContextObject(e);if(i.constraint)for(const r of i.constraint){let{constraint:o,entities:n}=qt(r);n=n.map(v=>t[v]),s.addConstraint(o,...n)}return s}function U(i,s,t){if(!i)return;const e=new s({iri:i["@id"],label:i.label,comment:i.comment});t[e.getIri()]=e;for(const r of Et)if(r in i){const o=Array.isArray(i[r])?i[r].map(n=>U(n,s,t)):[U(i[r],s,t)];for(const n of o)e.addComponent(r,n),t[n.getIri()]=n}return e}function qt(i){if(i)return{constraint:new It({iri:i["@id"],label:i.label,comment:i.comment}),entities:i.constrains}}var At=p("<a><li> </li></a>"),Jt=p('<li><i> </i> <ul class="svelte-heuoqa"></ul></li>'),Ft=p('<div class="navBox svelte-heuoqa"><div class="navBoxHead">Navigation</div> <div class="navBoxBody svelte-heuoqa"><ul class="svelte-heuoqa"></ul></div></div>');function Gt(i,s){St(s,!0);const t=s.selected.split("/").slice(0,-1).map(()=>"..").join("/");var e=Ft(),r=g(c(e),2),o=c(r);it(o,21,()=>Object.keys(s.variables),rt,(n,v)=>{var w=Jt(),S=c(w),P=c(S,!0);l(S);var Z=g(S,2);it(Z,21,()=>s.variables[_(v)],rt,($,L)=>{var R=At(),D=c(R);let h;var m=c(D,!0);l(D),l(R),E(j=>{Y(R,"href",(t?`${t}/${_(L).path}`:_(L).path)+".html"),h=Nt(D,1,"svelte-heuoqa",null,h,j),V(m,_(L).title)},[()=>({selected:s.selected==_(L).path})]),d($,R)}),l(Z),l(w),E(()=>V(P,_(v))),d(n,w)}),l(o),l(r),l(e),d(i,e),yt()}const tt=(i,s=zt)=>{var t=Ot(),e=et(t);{var r=o=>{var n=Xt(),v=c(n);{var w=h=>{var m=Ht(),j=c(m,!0);l(m),E((k,O)=>{Y(m,"href",k),V(j,O)},[()=>s().getIri(),()=>s().getLabel()]),d(h,m)},S=h=>{var m=Ct();E(j=>V(m,j),[()=>s().getLabel()]),d(h,m)};I(v,h=>{s().getIri()?h(w):h(S,!1)})}var P=g(v,2);{var Z=h=>{var m=Tt(),j=c(m,!0);l(m),E(k=>V(j,k),[()=>s().getComment()]),d(h,m)};I(P,h=>{s().getComment()&&h(Z)})}var $=g(P,2);{var L=h=>{var m=Qt(),j=g(c(m),2);it(j,21,()=>s().getConstraints(),rt,(k,O)=>{var q=Kt(),A=c(q);{var J=C=>{var u=Ct();E(F=>V(u,F),[()=>_(O).getLabel()]),d(C,u)},N=C=>{var u=Ut(),F=c(u,!0);l(u),E((f,b)=>{Y(u,"href",f),V(F,b)},[()=>_(O).getIri(),()=>_(O).getLabel()]),d(C,u)};I(A,C=>{_(O).isBlank()?C(J):C(N,!1)})}var nt=g(A,2);{var ot=C=>{var u=Yt(),F=c(u,!0);l(u),E(f=>V(F,f),[()=>_(O).getComment()]),d(C,u)};I(nt,C=>{_(O).getComment()&&C(ot)})}l(q),d(k,q)}),l(j),l(m),d(h,m)};I($,h=>{s().getConstraints().length>0&&h(L)})}var R=g($,2);{var D=h=>{var m=Ot(),j=et(m);it(j,17,()=>Object.entries(s().getComponents()),rt,(k,O)=>{let q=()=>_(O)[0],A=()=>_(O)[1];var J=Wt(),N=c(J),nt=c(N,!0);l(N);var ot=g(N,2);it(ot,17,A,rt,(C,u)=>{tt(C,()=>_(u))}),l(J),E(()=>V(nt,q())),d(k,J)}),d(h,m)};I(R,h=>{s().getComponentCount()>0&&h(D)})}l(n),d(o,n)};I(e,o=>{s()&&o(r)})}d(i,t)};var Ht=p("<a> </a>"),Tt=p('<p class="desc svelte-1g9s8gm"> </p>'),Ut=p("<a> </a>"),Yt=p('<p class="description"> </p>'),Kt=p('<li class="constraint-item"><!> <!></li>'),Qt=p('<div><span class="subheading">Constraint(s)</span> <ul class="constraint-list"></ul></div>'),Wt=p('<dl class="svelte-1g9s8gm"><dt class="subheading svelte-1g9s8gm"> </dt> <!></dl>'),Xt=p("<dd><!> <!> <!> <!></dd>"),Zt=p('<a target="_blank" aria-label="Discuss on Github" class="svelte-1g9s8gm"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.4 90" style="height: 1em;"><g fill="currentColor"><path d="m46.1 0c-25.5 0-46.1 20.6-46.1 46.1 0 20.4 13.2 37.7 31.5 43.8 2.3.4 3.2-1 3.2-2.2 0-1.1-.1-4.7-.1-8.6-11.6 2.1-14.6-2.8-15.5-5.4-.5-1.3-2.8-5.4-4.7-6.5-1.6-.9-3.9-3-.1-3.1 3.6-.1 6.2 3.3 7.1 4.7 4.2 7 10.8 5 13.4 3.8.4-3 1.6-5 2.9-6.2-10.3-1.2-21-5.1-21-22.8 0-5 1.8-9.2 4.7-12.4-.5-1.2-2.1-5.9.5-12.2 0 0 3.9-1.2 12.7 4.7 3.7-1 7.6-1.6 11.5-1.6s7.8.5 11.5 1.6c8.8-6 12.7-4.7 12.7-4.7 2.5 6.3.9 11.1.5 12.2 2.9 3.2 4.7 7.3 4.7 12.4 0 17.7-10.8 21.6-21.1 22.8 1.7 1.4 3.1 4.2 3.1 8.5 0 6.2-.1 11.1-.1 12.7 0 1.2.9 2.7 3.2 2.2 18.2-6.1 31.4-23.4 31.4-43.8.3-25.4-20.4-46-45.9-46z"></path><path d="m221.6 67.1h-.1zm0 0c-.5 0-1.8.3-3.2.3-4.4 0-5.9-2-5.9-4.6v-17.5h8.9c.5 0 .9-.4.9-1.1v-9.5c0-.5-.4-.9-.9-.9h-8.9v-11.7c0-.4-.3-.7-.8-.7h-12c-.5 0-.8.3-.8.7v12.1s-6.1 1.5-6.5 1.6-.7.5-.7.9v7.6c0 .6.4 1.1.9 1.1h6.2v18.3c0 13.6 9.5 15 16 15 3 0 6.5-.9 7.1-1.2.3-.1.5-.5.5-.9v-8.4c.1-.6-.3-1-.8-1.1zm132.2-12.2c0-10.1-4.1-11.4-8.4-11-3.3.2-6 1.9-6 1.9v19.6s2.7 1.9 6.8 2c5.8.2 7.6-1.9 7.6-12.5zm13.6-.9c0 19.1-6.2 24.6-17 24.6-9.1 0-14.1-4.6-14.1-4.6s-.2 2.6-.5 2.9c-.2.3-.4.4-.8.4h-8.3c-.6 0-1.1-.4-1.1-.9l.1-62c0-.5.4-.9.9-.9h11.9c.5 0 .9.4.9.9l-.1 20.9s4.6-3 11.3-3h.1c6.8-0 16.7 2.5 16.7 21.7zm-48.7-20.2h-11.7c-.6 0-.9.4-.9 1.1v30.3s-3.1 2.2-7.3 2.2-5.4-1.9-5.4-6.1v-26.5c0-.5-.4-.9-.9-.9h-11.9c-.5 0-.9.4-.9.9v28.5c0 12.3 6.9 15.3 16.3 15.3 7.8 0 14.1-4.3 14.1-4.3s.3 2.2.4 2.5.5.5.9.5h7.5c.6 0 .9-.4.9-.9l.1-41.7c-.1-.4-.6-.9-1.2-.9zm-132.2 0h-11.9c-.5 0-.9.5-.9 1.1v40.9c0 1.1.7 1.5 1.7 1.5h10.7c1.1 0 1.4-.5 1.4-1.5v-41.1c0-.5-.5-.9-1-.9zm-5.8-18.9c-4.3 0-7.7 3.4-7.7 7.7s3.4 7.7 7.7 7.7c4.2 0 7.6-3.4 7.6-7.7s-3.4-7.7-7.6-7.7zm92-1.4h-11.8c-.5 0-.9.4-.9.9v22.8h-18.5v-22.7c0-.5-.4-.9-.9-.9h-11.9c-.5 0-.9.4-.9.9v62c0 .5.5.9.9.9h11.9c.5 0 .9-.4.9-.9v-26.6h18.5l-.1 26.5c0 .5.4.9.9.9h11.9c.5 0 .9-.4.9-.9v-62c0-.4-.4-.9-.9-.9zm-105.3 27.5v32c0 .2-.1.6-.3.7 0 0-7 5-18.5 5-13.9 0-30.3-4.4-30.3-33 0-28.7 14.4-34.6 28.4-34.5 12.2 0 17.1 2.7 17.8 3.2.2.3.3.5.3.8l-2.3 9.9c0 .5-.5 1.1-1.1.9-2-.6-5-1.8-12.1-1.8-8.2 0-17 2.3-17 20.8s8.4 20.6 14.4 20.6c5.1 0 7-.6 7-.6v-12.8h-8.2c-.6 0-1.1-.4-1.1-.9v-10.3c0-.5.4-.9 1.1-.9h20.9c.6-.1 1 .4 1 .9z"></path></g></svg></a>'),te=p('<p class="links svelte-1g9s8gm"><!> <a target="_blank" aria-label="Download RDF" class="svelte-1g9s8gm"><img style="height: 1em;" alt="Download RDF"></a></p>'),ee=p('<dt class="svelte-1g9s8gm">Statistical Modifier</dt> <!>',1),se=p('<dt class="svelte-1g9s8gm">Matrix</dt> <!>',1),ie=p('<dt class="svelte-1g9s8gm">Context Objects</dt> <!>',1),re=kt(`<nav><!></nav> <main class="svelte-1g9s8gm"><div class="svelte-1g9s8gm"><section class="svelte-1g9s8gm"><h2 class="svelte-1g9s8gm"> </h2> <!> <p class="description"> </p></section> <section class="textual svelte-1g9s8gm"><dl class="svelte-1g9s8gm"><dt class="svelte-1g9s8gm">Property</dt> <!> <dt class="svelte-1g9s8gm">Object of Interest</dt> <!> <!> <!> <!></dl></section></div> <br> <div class="vis svelte-1g9s8gm"><iframe title="Visualization of the Variable" class="svelte-1g9s8gm"></iframe> <script>
      function updateVisSize( ev ) {
        // set the proper iframe ratio
        const iframe = document.querySelector( 'iframe' );
        const ratio = ev.data.width / ev.data.height;
        iframe.style.aspectRatio = ratio;
        // remove the listener
        window.removeEventListener( 'message', updateVisSize );
      }
      window.addEventListener( 'message', updateVisSize );
    <\/script></div></main>`,1);function ve(i,s){St(s,!0);const t=Dt(s.data.variable),e=s.data.path.split("/").slice(0,-1).map(()=>"..").join("/");var r=re(),o=et(r),n=c(o);Gt(n,{get selected(){return s.data.path},get variables(){return s.data.variableList}}),l(o);var v=g(o,2),w=c(v),S=c(w),P=c(S),Z=c(P,!0);l(P);var $=g(P,2);{var L=f=>{var b=te(),M=c(b);{var G=_t=>{var bt=Zt();E(()=>Y(bt,"href",s.data.issue)),d(_t,bt)};I(M,_t=>{s.data.issue&&_t(G)})}var lt=g(M,2),Bt=c(lt);Y(Bt,"src",`${e}/rdf.svg`),l(lt),l(b),E(()=>Y(lt,"href",`${e}/${s.data.path}`)),d(f,b)};I($,f=>{s.data.issue&&f(L)})}var R=g($,2),D=c(R,!0);l(R),l(S);var h=g(S,2),m=c(h),j=g(c(m),2),k=dt(()=>t.getProperty());tt(j,()=>_(k));var O=g(j,4),q=dt(()=>t.getObjectOfInterest());tt(O,()=>_(q));var A=g(O,2);{var J=f=>{var b=ee(),M=g(et(b),2),G=dt(()=>t.getStatisticalModifier());tt(M,()=>_(G)),d(f,b)};I(A,f=>{t.getStatisticalModifier()&&f(J)})}var N=g(A,2);{var nt=f=>{var b=se(),M=g(et(b),2),G=dt(()=>t.getMatrix());tt(M,()=>_(G)),d(f,b)};I(N,f=>{t.getMatrix()&&f(nt)})}var ot=g(N,2);{var C=f=>{var b=ie(),M=g(et(b),2);it(M,17,()=>t.getContextObjects(),rt,(G,lt)=>{tt(G,()=>_(lt))}),d(f,b)};I(ot,f=>{t.getContextObjects().length>0&&f(C)})}l(m),l(h),l(w);var u=g(w,4),F=c(u);Pt(2),l(u),l(v),E((f,b,M)=>{V(Z,f),V(D,b),Y(F,"src",`https://sirkos.github.io/iadopt-vis/remote.html?jsonld=${M??""}`)},[()=>t.getLabel(),()=>t.getComment(),()=>encodeURIComponent(JSON.stringify(s.data.variable))]),d(i,r),yt()}export{ve as component};
