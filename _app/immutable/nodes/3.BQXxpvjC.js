var wt=Object.defineProperty;var _t=i=>{throw TypeError(i)};var Et=(i,s,t)=>s in i?wt(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var J=(i,s,t)=>Et(i,typeof s!="symbol"?s+"":s,t),dt=(i,s,t)=>s.has(i)||_t("Cannot "+t);var n=(i,s,t)=>(dt(i,s,"read from private field"),t?t.call(i):s.get(i)),k=(i,s,t)=>s.has(i)?_t("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,t),D=(i,s,t,e)=>(dt(i,s,"write to private field"),e?e.call(i,t):s.set(i,t),t);import{t as j,b as _,c as It,d as bt,e as ut}from"../chunks/DPI9c3w9.js";import{h as pt,a0 as Ot,a1 as Ct,a3 as g,a4 as c,a6 as o,n as d,a8 as E,a7 as X,a2 as Vt,o as ft,a5 as zt}from"../chunks/gBt90wYd.js";import{s as I}from"../chunks/CNCZbiop.js";import{i as V}from"../chunks/ClflrIIK.js";import{e as tt,i as et,s as at}from"../chunks/B02JU1mm.js";const jt=[...` 	
\r\fÂ \v\uFEFF`];function Mt(i,s,t){var e=""+i;if(t){for(var r in t)if(t[r])e=e?e+" "+r:r;else if(e.length)for(var l=r.length,a=0;(a=e.indexOf(r,a))>=0;){var h=a+l;(a===0||jt.includes(e[a-1]))&&(h===e.length||jt.includes(e[h]))?e=(a===0?"":e.substring(0,a))+e.substring(h+1):a=h}}return e===""?null:e}function Bt(i,s,t,e,r,l){var a=i.__className;if(pt||a!==t||a===void 0){var h=Mt(t,e,l);(!pt||h!==i.getAttribute("class"))&&(h==null?i.removeAttribute("class"):i.className=h),i.__className=t}else if(l&&r!==l)for(var C in l){var x=!!l[C];(r==null||x!==!!r[C])&&i.classList.toggle(C,x)}return l}const yt=["hasSource","hasTarget","hasPart"];var lt,ct,ht;const Z=class Z{constructor({iri:s,shortIri:t,label:e,comment:r,isBlank:l}={}){k(this,ct);J(this,"_iri");J(this,"_shortIri");J(this,"_label",{});J(this,"_comment",{});J(this,"_isBlank");J(this,"_constrained",[]);k(this,ht,"");this._iri=s,this._shortIri=t,this._isBlank=l??!s,typeof e=="string"?this._label[""]=e:this._label=Object.fromEntries(Object.entries(e??{}).filter(([a,h])=>h)),typeof r=="string"?this._comment[""]=r:this._comment=Object.fromEntries(Object.entries(r??{}).filter(([a,h])=>h))}clone(){return new Z({iri:this._iri,shortiri:this._shortIri,label:JSON.parse(JSON.stringify(this._label)),comment:JSON.parse(JSON.stringify(this._comment)),isblank:this._isBlank})}setVariable(s){D(this,ct,s)}getVariable(){return n(this,ct)}getIri(){return this._iri}getShortIri(){return this._shortIri}isBlank(){return this._isBlank}setLabel(s,t){this._label[s]=t}getLabel(){for(const e of n(Z,lt))if(e in this._label)return this._label[e];let s=Object.values(this._label)[0];if(s)return s;const t=this._iri.split("/");return t.pop()||t.pop()||"[missing label]"}setComment(s,t){this._comment[s]=t}getComment(){for(const s of n(Z,lt))if(s in this._comment)return this._comment[s];return Object.values(this._comment)[0]}setRole(s){D(this,ht,s)}getRole(){return n(this,ht)}};lt=new WeakMap,ct=new WeakMap,ht=new WeakMap,k(Z,lt,["en",""]);let ot=Z;var H,T,U,vt,Y,st;class Pt extends ot{constructor(){super(...arguments);k(this,H);k(this,T);k(this,U);k(this,vt);k(this,Y,[]);k(this,st,[])}setProperty(t){if(!(t instanceof xt))throw new Error("Can only assign instances of Property!");t.setVariable(this),t.setRole("Property"),D(this,H,t)}setObjectOfInterest(t){if(!(t instanceof z))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("OoI"),D(this,T,t)}setMatrix(t){if(!(t instanceof z))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("Matrix"),D(this,U,t)}setStatisticalModifier(t){if(!(t instanceof z))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("StatisticalModifier"),D(this,vt,t)}addContextObject(t){if(!(t instanceof z))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("ContextObject"),n(this,Y).push(t)}addConstraint(t,...e){if(!(t instanceof kt))throw new Error("Can only assign instances of Constraint!");if(e.some(r=>r.getVariable()!=this))throw Error("Can only constrain entities of the same variable!");if(n(this,st).includes(t)){const r=t.getEntities();for(const l of e)r.includes(l)||(t.addEntity(l),l._addConstraint(t));return}for(const r of e)t.addEntity(r),r._addConstraint(t);t.setRole("Constraint"),n(this,st).push(t)}getProperty(){return n(this,H)}getObjectOfInterest(){return n(this,T)}getMatrix(){return n(this,U)}getStatisticalModifier(){return n(this,vt)}getContextObjects(){return n(this,Y).slice(0)}getConstraints(){return n(this,st).slice(0)}toString(){return`[Variable ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+`
  Property:
${n(this,H)?n(this,H).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  ObjectOfInterest:
${n(this,T)?n(this,T).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  Matrix:
${n(this,U)?n(this,U).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  ContextObject:
${n(this,Y).length?n(this,Y).map(t=>t.toString().split(`
`).map(e=>`    ${e}`).join(`
`)).join(`
`):"-"}
]`}}H=new WeakMap,T=new WeakMap,U=new WeakMap,vt=new WeakMap,Y=new WeakMap,st=new WeakMap;var mt;class kt extends ot{constructor(){super(...arguments);k(this,mt,[])}addEntity(t){n(this,mt).push(t)}getEntities(){return n(this,mt).slice(0)}toString(){return`[Constraint ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+`
]`}}mt=new WeakMap;var P,S;const gt=class gt extends ot{constructor(){super(...arguments);k(this,P,[]);k(this,S,{})}setVariable(t){super.setVariable(t),Object.values(n(this,S)).forEach(e=>e.forEach(r=>r.setVariable(t)))}_addConstraint(t){n(this,P).push(t)}addConstraint(t){n(this,P).push(t)}getConstraints(){return Array.from(n(this,P))}addComponent(t,e){if(!yt.includes(t))throw new Error("Invalid property to connect a System to its components: "+t);t in n(this,S)||(n(this,S)[t]=[]),e.setVariable(this.getVariable()),e.setRole("SystemComponent"),n(this,S)[t].push(e)}getComponents(){return Object.entries(n(this,S)).reduce((t,e)=>(t[e[0]]=Array.from(e[1]),t),{})}getComponentCount(){return Object.entries(n(this,S)).reduce((t,e)=>t+e[1].length,0)}isSystem(){return Object.keys(n(this,S)).length>0}toString(){return`[Entity ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,e])=>`    ${t}: ${e}`).join(`
`):"")+(Object.values(n(this,P)).length?`
  constrained:
`+n(this,P).map(t=>t.toString().split(`
`).map(e=>`    ${e}`).join(`
`)).join(`
`):"-")+`
]`}clone(){const t=new gt({iri:this._iri,shortIri:this._shortIri,label:this._label,comment:this._comment,isBlank:this._isBlank});for(const e of n(this,P))t._addConstraint(e);for(const e in n(this,S))for(const r of n(this,S)[e])t.addComponent(e,r.clone());return t}};P=new WeakMap,S=new WeakMap;let z=gt;class xt extends z{toString(){return`[Entity ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([s,t])=>`    ${s}: ${t}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([s,t])=>`    ${s}: ${t}`).join(`
`):"")+`
]`}}function Lt(i){const s=new Pt({iri:i["@id"],label:i.label,comment:i.comment}),t={};let e=G(i.property,xt,t);if(e&&s.setProperty(e),e=G(i.statisticalModifier,z,t),e&&s.setStatisticalModifier(e),e=G(i.ooi,z,t),e&&s.setObjectOfInterest(e),e=G(i.matrix,z,t),e&&s.setMatrix(e),i.context)for(const r of i.context)e=G(r,z,t),s.addContextObject(e);if(i.constraint)for(const r of i.constraint){let{constraint:l,entities:a}=Rt(r);a=a.map(h=>t[h]),s.addConstraint(l,...a)}return s}function G(i,s,t){if(!i)return;const e=new s({iri:i["@id"],label:i.label,comment:i.comment});t[e.getIri()]=e;for(const r of yt)if(r in i){const l=Array.isArray(i[r])?i[r].map(a=>G(a,s,t)):[G(i[r],s,t)];for(const a of l)e.addComponent(r,a),t[a.getIri()]=a}return e}function Rt(i){if(i)return{constraint:new kt({iri:i["@id"],label:i.label,comment:i.comment}),entities:i.constrains}}var $t=j("<a><li> </li></a>"),Nt=j('<li><i> </i> <ul class="svelte-heuoqa"></ul></li>'),qt=j('<div class="navBox svelte-heuoqa"><div class="navBoxHead">Navigation</div> <div class="navBoxBody svelte-heuoqa"><ul class="svelte-heuoqa"></ul></div></div>');function At(i,s){Ot(s,!0);const t=s.selected.split("/").slice(0,-1).map(()=>"..").join("/");var e=qt(),r=g(c(e),2),l=c(r);tt(l,21,()=>Object.keys(s.variables),et,(a,h)=>{var C=Nt(),x=c(C),F=c(x,!0);o(x);var q=g(x,2);tt(q,21,()=>s.variables[d(h)],et,(K,B)=>{var L=$t(),R=c(L);let v;var m=c(R,!0);o(R),o(L),E(O=>{at(L,"href",(t?`${t}/${d(B).path}`:d(B).path)+".html"),v=Bt(R,1,"svelte-heuoqa",null,v,O),I(m,d(B).title)},[()=>({selected:s.selected==d(B).path})]),_(K,L)}),o(q),o(C),E(()=>I(F,d(h))),_(a,C)}),o(l),o(r),o(e),_(i,e),Ct()}const W=(i,s=Vt)=>{var t=bt(),e=X(t);{var r=l=>{var a=Ft(),h=c(a);{var C=v=>{var m=Jt(),O=c(m,!0);o(m),E((M,y)=>{at(m,"href",M),I(O,y)},[()=>s().getIri(),()=>s().getLabel()]),_(v,m)},x=v=>{var m=ut();E(O=>I(m,O),[()=>s().getLabel()]),_(v,m)};V(h,v=>{s().getIri()?v(C):v(x,!1)})}var F=g(h,2);{var q=v=>{var m=Dt(),O=c(m,!0);o(m),E(M=>I(O,M),[()=>s().getComment()]),_(v,m)};V(F,v=>{s().getComment()&&v(q)})}var K=g(F,2);{var B=v=>{var m=Ut(),O=g(c(m),2);tt(O,21,()=>s().getConstraints(),et,(M,y)=>{var $=Tt(),Q=c($);{var N=u=>{var p=ut();E(f=>I(p,f),[()=>d(y).getLabel()]),_(u,p)},A=u=>{var p=Gt(),f=c(p,!0);o(p),E((b,w)=>{at(p,"href",b),I(f,w)},[()=>d(y).getIri(),()=>d(y).getLabel()]),_(u,p)};V(Q,u=>{d(y).isBlank()?u(N):u(A,!1)})}var it=g(Q,2);{var rt=u=>{var p=Ht(),f=c(p,!0);o(p),E(b=>I(f,b),[()=>d(y).getComment()]),_(u,p)};V(it,u=>{d(y).getComment()&&u(rt)})}o($),_(M,$)}),o(O),o(m),_(v,m)};V(K,v=>{s().getConstraints().length>0&&v(B)})}var L=g(K,2);{var R=v=>{var m=bt(),O=X(m);tt(O,17,()=>Object.entries(s().getComponents()),et,(M,y)=>{let $=()=>d(y)[0],Q=()=>d(y)[1];var N=Yt(),A=c(N),it=c(A,!0);o(A);var rt=g(A,2);tt(rt,17,Q,et,(u,p)=>{W(u,()=>d(p))}),o(N),E(()=>I(it,$())),_(M,N)}),_(v,m)};V(L,v=>{s().getComponentCount()>0&&v(R)})}o(a),_(l,a)};V(e,l=>{s()&&l(r)})}_(i,t)};var Jt=j("<a> </a>"),Dt=j('<p class="desc svelte-1ykg2kb"> </p>'),Gt=j("<a> </a>"),Ht=j('<p class="description"> </p>'),Tt=j('<li class="constraint-item"><!> <!></li>'),Ut=j('<div><span class="subheading">Constraint(s)</span> <ul class="constraint-list"></ul></div>'),Yt=j('<dl class="svelte-1ykg2kb"><dt class="subheading svelte-1ykg2kb"> </dt> <!></dl>'),Ft=j("<dd><!> <!> <!> <!></dd>"),Kt=j('<p style="font-style: italic; font-size: 90%; color: #444;"><a target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.4 90" style="height: 1em;"><g fill="currentColor"><path d="m46.1 0c-25.5 0-46.1 20.6-46.1 46.1 0 20.4 13.2 37.7 31.5 43.8 2.3.4 3.2-1 3.2-2.2 0-1.1-.1-4.7-.1-8.6-11.6 2.1-14.6-2.8-15.5-5.4-.5-1.3-2.8-5.4-4.7-6.5-1.6-.9-3.9-3-.1-3.1 3.6-.1 6.2 3.3 7.1 4.7 4.2 7 10.8 5 13.4 3.8.4-3 1.6-5 2.9-6.2-10.3-1.2-21-5.1-21-22.8 0-5 1.8-9.2 4.7-12.4-.5-1.2-2.1-5.9.5-12.2 0 0 3.9-1.2 12.7 4.7 3.7-1 7.6-1.6 11.5-1.6s7.8.5 11.5 1.6c8.8-6 12.7-4.7 12.7-4.7 2.5 6.3.9 11.1.5 12.2 2.9 3.2 4.7 7.3 4.7 12.4 0 17.7-10.8 21.6-21.1 22.8 1.7 1.4 3.1 4.2 3.1 8.5 0 6.2-.1 11.1-.1 12.7 0 1.2.9 2.7 3.2 2.2 18.2-6.1 31.4-23.4 31.4-43.8.3-25.4-20.4-46-45.9-46z"></path><path d="m221.6 67.1h-.1zm0 0c-.5 0-1.8.3-3.2.3-4.4 0-5.9-2-5.9-4.6v-17.5h8.9c.5 0 .9-.4.9-1.1v-9.5c0-.5-.4-.9-.9-.9h-8.9v-11.7c0-.4-.3-.7-.8-.7h-12c-.5 0-.8.3-.8.7v12.1s-6.1 1.5-6.5 1.6-.7.5-.7.9v7.6c0 .6.4 1.1.9 1.1h6.2v18.3c0 13.6 9.5 15 16 15 3 0 6.5-.9 7.1-1.2.3-.1.5-.5.5-.9v-8.4c.1-.6-.3-1-.8-1.1zm132.2-12.2c0-10.1-4.1-11.4-8.4-11-3.3.2-6 1.9-6 1.9v19.6s2.7 1.9 6.8 2c5.8.2 7.6-1.9 7.6-12.5zm13.6-.9c0 19.1-6.2 24.6-17 24.6-9.1 0-14.1-4.6-14.1-4.6s-.2 2.6-.5 2.9c-.2.3-.4.4-.8.4h-8.3c-.6 0-1.1-.4-1.1-.9l.1-62c0-.5.4-.9.9-.9h11.9c.5 0 .9.4.9.9l-.1 20.9s4.6-3 11.3-3h.1c6.8-0 16.7 2.5 16.7 21.7zm-48.7-20.2h-11.7c-.6 0-.9.4-.9 1.1v30.3s-3.1 2.2-7.3 2.2-5.4-1.9-5.4-6.1v-26.5c0-.5-.4-.9-.9-.9h-11.9c-.5 0-.9.4-.9.9v28.5c0 12.3 6.9 15.3 16.3 15.3 7.8 0 14.1-4.3 14.1-4.3s.3 2.2.4 2.5.5.5.9.5h7.5c.6 0 .9-.4.9-.9l.1-41.7c-.1-.4-.6-.9-1.2-.9zm-132.2 0h-11.9c-.5 0-.9.5-.9 1.1v40.9c0 1.1.7 1.5 1.7 1.5h10.7c1.1 0 1.4-.5 1.4-1.5v-41.1c0-.5-.5-.9-1-.9zm-5.8-18.9c-4.3 0-7.7 3.4-7.7 7.7s3.4 7.7 7.7 7.7c4.2 0 7.6-3.4 7.6-7.7s-3.4-7.7-7.6-7.7zm92-1.4h-11.8c-.5 0-.9.4-.9.9v22.8h-18.5v-22.7c0-.5-.4-.9-.9-.9h-11.9c-.5 0-.9.4-.9.9v62c0 .5.5.9.9.9h11.9c.5 0 .9-.4.9-.9v-26.6h18.5l-.1 26.5c0 .5.4.9.9.9h11.9c.5 0 .9-.4.9-.9v-62c0-.4-.4-.9-.9-.9zm-105.3 27.5v32c0 .2-.1.6-.3.7 0 0-7 5-18.5 5-13.9 0-30.3-4.4-30.3-33 0-28.7 14.4-34.6 28.4-34.5 12.2 0 17.1 2.7 17.8 3.2.2.3.3.5.3.8l-2.3 9.9c0 .5-.5 1.1-1.1.9-2-.6-5-1.8-12.1-1.8-8.2 0-17 2.3-17 20.8s8.4 20.6 14.4 20.6c5.1 0 7-.6 7-.6v-12.8h-8.2c-.6 0-1.1-.4-1.1-.9v-10.3c0-.5.4-.9 1.1-.9h20.9c.6-.1 1 .4 1 .9z"></path></g></svg> Discuss this Variable on Github.</a></p>'),Qt=j('<dt class="svelte-1ykg2kb">Statistical Modifier</dt> <!>',1),Wt=j('<dt class="svelte-1ykg2kb">Matrix</dt> <!>',1),Xt=j('<dt class="svelte-1ykg2kb">Context Objects</dt> <!>',1),Zt=It(`<nav><!></nav> <main class="svelte-1ykg2kb"><div class="svelte-1ykg2kb"><section><h2> </h2> <!> <p class="description"> </p></section> <section><dl class="svelte-1ykg2kb"><dt class="svelte-1ykg2kb">Property</dt> <!> <dt class="svelte-1ykg2kb">Object of Interest</dt> <!> <!> <!> <!></dl></section></div> <br> <div class="vis svelte-1ykg2kb"><iframe title="Visualization of the Variable" class="svelte-1ykg2kb"></iframe> <script>
      function updateVisSize( ev ) {
        // set the proper iframe ratio
        const iframe = document.querySelector( 'iframe' );
        const ratio = ev.data.width / ev.data.height;
        iframe.style.aspectRatio = ratio;
        // remove the listener
        window.removeEventListener( 'message', updateVisSize );
      }
      window.addEventListener( 'message', updateVisSize );
    <\/script></div></main>`,1);function ae(i,s){Ot(s,!0);const t=Lt(s.data.variable);var e=Zt(),r=X(e),l=c(r);At(l,{get selected(){return s.data.path},get variables(){return s.data.variableList}}),o(r);var a=g(r,2),h=c(a),C=c(h),x=c(C),F=c(x,!0);o(x);var q=g(x,2);{var K=f=>{var b=Kt(),w=c(b);o(b),E(()=>at(w,"href",s.data.issue)),_(f,b)};V(q,f=>{s.data.issue&&f(K)})}var B=g(q,2),L=c(B,!0);o(B),o(C);var R=g(C,2),v=c(R),m=g(c(v),2),O=ft(()=>t.getProperty());W(m,()=>d(O));var M=g(m,4),y=ft(()=>t.getObjectOfInterest());W(M,()=>d(y));var $=g(M,2);{var Q=f=>{var b=Qt(),w=g(X(b),2),nt=ft(()=>t.getStatisticalModifier());W(w,()=>d(nt)),_(f,b)};V($,f=>{t.getStatisticalModifier()&&f(Q)})}var N=g($,2);{var A=f=>{var b=Wt(),w=g(X(b),2),nt=ft(()=>t.getMatrix());W(w,()=>d(nt)),_(f,b)};V(N,f=>{t.getMatrix()&&f(A)})}var it=g(N,2);{var rt=f=>{var b=Xt(),w=g(X(b),2);tt(w,17,()=>t.getContextObjects(),et,(nt,St)=>{W(nt,()=>d(St))}),_(f,b)};V(it,f=>{t.getContextObjects().length>0&&f(rt)})}o(v),o(R),o(h);var u=g(h,4),p=c(u);zt(2),o(u),o(a),E((f,b,w)=>{I(F,f),I(L,b),at(p,"src",`https://sirkos.github.io/iadopt-vis/remote.html?jsonld=${w??""}`)},[()=>t.getLabel(),()=>t.getComment(),()=>encodeURIComponent(JSON.stringify(s.data.variable))]),_(i,e),Ct()}export{ae as component};
